<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link th:href="@{css/style.css}" type="text/css" rel="stylesheet">
    <title>Area Utente</title>
    <style>
    	#logoutsubmit:hover {
		    color: black;
    	}
    </style>
</head>
 <body>
    <header class="header">
        <div class="content-logo">
            <a th:href="@{/homepage}"><img class="img-logo" th:src="@{/images/LibreriaDelLevantesolo_logo2.jpg}" alt="LOGO">
        <img class="img-testo" th:src="@{/images/LibreriaDelLevantesolo_testo2.jpg}" alt="LOGO"></a>
        </div>
        <nav class="nav-bar">
            <a th:href="@{/homepage}" th:text="'Home'"></a>
            <a th:href="@{/libri}" th:text="'BookStore'"></a>
            <a th:href="@{/eventi}" th:text="'Eventi'"></a>
        </nav>
    </header>
    <div class="cover-header"></div>
        <div class="alert" style="margin: 0 auto; text-align: center; padding: 150px 100px;">
	        <h1 th:text="'Area Personale'"></h1><br>
	        <div class="bottone-indietro">
	        <a th:href="@{/homepage}" th:text="'Torna in home page'"></a>
	        </div>
	        <div >
	        <form th:action="@{/areautente/logout}" method="post">
	        <input type="submit" th:value="'Logout'" class="bottone-indietro"id="logoutsubmit">
	        </form>
	        </div>
	        <div class="row mt-4" >
	        	<div class="col-3 text-center"></div>
		        <div class="col-3 text-middle" style="justify-content: center; align-items: center;">
		        <h2 th:text="'Prenotazioni'"></h2>
			        <table class="table table-striped table-responsive">
			        	<tbody >
							<tr th:each="p : ${prenotazioni}" style="width: 100%;">
								<td class="align-middle"></td>
								<td class="align-middle"></td>
								<td class="align-middle"></td>
								<td th:text="${p.ticket}" class="align-middle"></td>
								<td class=" align-middle text-end">
									<a th:href="@{/catalogo/cancellaprenotazione(id=${p.id})}" class=" btn-primary btn-sm btn-admin button2" 
										th:text="'Cancella'"></a>
								</td>
								<td class="align-middle"></td>
								<td class="align-middle"></td>
								<td class="align-middle"></td>
							</tr>
						</tbody>
			        </table>
		        </div>
		        <div class="col-3 text-center">
		        	<div class="box registrati" id="reg">
            <form th:action="@{/areautente/form}" th:object="${anagrafica}" method="POST" style="width: 80%;">
                <h2 th:text="'Riepilogo Dati'"></h2>
                   <div class="input-box" hidden="hidden"> 
                   <input th:field="*{id}" type="text" id="id" name="id" class="form-control"
									   required="required" readonly hidden="hidden">
                   </div>
                <div class="input-box">
                    <span class="icon"></span>
					 <label th:text="'Nome:'"></label>
					<input th:field="*{nome}" type="text" id="nome" name="nome" class="form-control" required="required" >
                </div>
                <div class="input-box">
                    <span class="icon"></span>
					 <label th:text="'Cognome:'"></label>
                    <input th:field="*{cognome}" type="text" id="cognome" name="cognome" class="form-control" required="required">
                </div>
                  <div class="input-box">
                    <span class="icon"></span>
					<label th:text="'Telefono'"></label>
                   <input th:field="*{telefono}" type="text" id="telefono" name="telefono" class="form-control" required="required">
                </div>
                <div class="input-box" hidden="hidden" >
                	<input th:field="*{profilo.id}" type="text" id="idP" name="idP" class="form-control" required="required" readonly hidden="hidden">
                </div> 
                <div class="input-box">
                    <span class="icon"></span>
                  <label th:text="'Username'"></label>
                    <input th:field="*{profilo.username}" type="text" id="username" name="username" class="form-control" required="required">
                  <p th:if="${formError}" th:text="'Username Duplicato'" style="text-align:center; color:red; margin:0;"></p>
                </div>
                
                <div class="input-box">
                    <span class="icon"></span>
                    <label th:text="'Email'"></label>
                    <input th:field="*{profilo.email}" type="email" id="email" name="email" class="form-control" required="required">
                </div>
                <div class="input-box">
                    <span class="icon"></span>
                    <label th:text="'Password'"></label>
					<input th:field="*{profilo.password}" type="password" id="password" name="password" class="form-control" required="required" placeholder="Inserire password per confermare">
                </div>
                <input  type="submit" th:value="'Modifica'" class="btn-accedi">
            </form>
        </div>
        <div class="col-3 text-center"></div>
		        </div>
		    </div>
     	</div>
        <div class="footer-dark">
            <footer>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-6 col-md-3 item">
                            <h3>Servizi</h3>
                            <ul>
                                <li><a href="#">Web design</a></li>
                                <li><a href="#">Sviluppo</a></li>
                                <li><a href="#">Hosting</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-6 col-md-3 item">
                            <h3>Di noi!</h3>
                            <ul>
                                <li><a href="#">Azienda</a></li>
                                <li><a href="#">Squadra</a></li>
                                <li><a href="#">Carriere</a></li>
                            </ul>
                        </div>
                        <div class="col item social"><a href="#"><i class="icon ion-social-facebook"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i class="icon ion-social-instagram"></i></a></div>
                    </div>
                    <p class="copyright" th:href="@{/loginadmin}">Libreria Del Levante Â© 2023</p>
                </div>
            </footer>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
 </body>
</html>